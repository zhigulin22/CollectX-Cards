* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
    --bg: #0d0d0f; --bg-secondary: #131316; --card: #1a1a1f; --card-hover: #222228;
    --border: #2a2a30; --text: #ffffff; --muted: #71717a; --primary: #C4C4DB;
    --common: #71717a; --rare: #4A90E2; --epic: #9B59B6; --legendary: #F39C12;
    --bronze: #cd7f32; --silver: #c0c0c0; --gold: #ffd700; 
    --platinum: #e5e4e2; --diamond: #b9f2ff; --master: #9b59b6; --legend: #f39c12;
}

body { font-family: 'Inter', -apple-system, sans-serif; background: var(--bg); color: var(--text); min-height: 100vh; }
#app { max-width: 480px; margin: 0 auto; padding: 0 16px 100px; }

/* Header */
.header { display: flex; justify-content: space-between; align-items: center; padding: 16px 0; }

.profile-mini { display: flex; align-items: center; gap: 12px; cursor: pointer; }
.profile-avatar-mini { 
    width: 44px; height: 44px; border-radius: 50%; display: flex; align-items: center; 
    justify-content: center; font-size: 20px; background: var(--card);
    border: 2px solid var(--bronze); box-shadow: 0 0 12px var(--bronze);
    transition: all 0.3s;
}
.profile-avatar-mini.silver { border-color: var(--silver); box-shadow: 0 0 12px rgba(192,192,192,0.5); }
.profile-avatar-mini.gold { border-color: var(--gold); box-shadow: 0 0 15px rgba(255,215,0,0.5); }
.profile-avatar-mini.platinum { border-color: var(--platinum); box-shadow: 0 0 15px rgba(229,228,226,0.6); }
.profile-avatar-mini.diamond { border-color: var(--diamond); box-shadow: 0 0 18px rgba(185,242,255,0.6); }
.profile-avatar-mini.master { border-color: var(--master); box-shadow: 0 0 18px rgba(155,89,182,0.6); }
.profile-avatar-mini.legend { border-color: var(--legend); box-shadow: 0 0 20px rgba(243,156,18,0.7); animation: legendPulse 2s infinite; }
@keyframes legendPulse { 0%,100% { box-shadow: 0 0 20px rgba(243,156,18,0.7); } 50% { box-shadow: 0 0 30px rgba(243,156,18,0.9); } }

.profile-name-mini { font-weight: 600; font-size: 14px; }
.profile-rank-mini { font-size: 11px; text-transform: uppercase; letter-spacing: 0.5px; }
.profile-rank-mini.bronze { color: var(--bronze); }
.profile-rank-mini.silver { color: var(--silver); }
.profile-rank-mini.gold { color: var(--gold); }
.profile-rank-mini.platinum { color: var(--platinum); }
.profile-rank-mini.diamond { color: var(--diamond); }
.profile-rank-mini.master { color: var(--master); }
.profile-rank-mini.legend { color: var(--legend); }

.header-right { display: flex; align-items: center; gap: 12px; }
.balance { background: var(--card); padding: 8px 14px; border-radius: 10px; font-size: 14px; font-weight: 600; color: var(--primary); }

.pack-btn { 
    width: 48px; height: 48px; background: var(--card); border: none; border-radius: 12px; 
    cursor: pointer; transition: all 0.3s;
}
.pack-btn:hover { transform: scale(1.05); background: var(--card-hover); }
.pack-icon { font-size: 24px; }
.pulse { animation: pulse 2s infinite; }
@keyframes pulse { 0%,100% { box-shadow: 0 0 0 0 rgba(155,89,182,0.5); } 50% { box-shadow: 0 0 0 10px rgba(155,89,182,0); } }

/* Section */
.section-label { font-size: 11px; font-weight: 600; color: var(--muted); letter-spacing: 1.5px; text-transform: uppercase; margin-bottom: 14px; }

/* Collections */
.collections-wrap { margin-bottom: 20px; }
.collections { display: flex; gap: 12px; overflow-x: auto; padding: 4px 0 16px; scrollbar-width: none; scroll-snap-type: x mandatory; }
.collections::-webkit-scrollbar { display: none; }
.collection { 
    flex-shrink: 0; width: 160px; background: var(--card); border-radius: 14px; 
    padding: 14px; cursor: pointer; transition: all 0.3s; scroll-snap-align: start;
    border: 1px solid var(--border);
}
.collection:hover { transform: translateY(-4px); border-color: var(--primary); }
.collection-cover { 
    width: 100%; height: 90px; border-radius: 10px; margin-bottom: 12px; 
    display: flex; align-items: center; justify-content: center;
    background: var(--bg-secondary);
}
.collection-cover .placeholder { font-size: 40px; }
.collection-name { font-weight: 600; font-size: 13px; margin-bottom: 6px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.collection-stats { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.collection-count { font-size: 12px; color: var(--muted); }
.progress { height: 3px; background: var(--border); border-radius: 2px; overflow: hidden; }
.progress-fill { height: 100%; background: var(--primary); border-radius: 2px; transition: width 0.5s; }
.progress-fill.complete { background: linear-gradient(90deg, #10b981, #34d399); }

.scroll-indicator { height: 3px; background: var(--border); border-radius: 2px; margin-bottom: 20px; }
.scroll-indicator-fill { height: 100%; background: var(--muted); border-radius: 2px; width: 30%; }

/* Filters */
.filters { display: flex; gap: 10px; margin-bottom: 16px; }
.filter-select { 
    flex: 1; padding: 10px 14px; background: var(--card); border: 1px solid var(--border); 
    color: var(--text); border-radius: 10px; font-size: 13px; cursor: pointer;
    appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2371717a' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat; background-position: right 12px center;
}
.filter-select:focus { outline: none; border-color: var(--primary); }

/* Cards Header */
.cards-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 14px; }
.cards-header h2 { font-size: 18px; font-weight: 600; }
.cards-count { font-size: 13px; color: var(--primary); font-weight: 500; }

/* Cards Grid */
.cards-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
.card-item { 
    background: var(--card); border-radius: 12px; padding: 10px; cursor: pointer; 
    transition: all 0.3s; position: relative; border: 2px solid transparent;
}
.card-item:hover { transform: translateY(-3px) scale(1.02); }
.card-item.common { border-color: var(--common); }
.card-item.rare { border-color: var(--rare); box-shadow: 0 0 15px rgba(74,144,226,0.2); }
.card-item.epic { border-color: var(--epic); box-shadow: 0 0 15px rgba(155,89,182,0.25); }
.card-item.legendary { border-color: var(--legendary); box-shadow: 0 0 20px rgba(243,156,18,0.3); animation: legendaryGlow 2s infinite; }
@keyframes legendaryGlow { 0%,100% { box-shadow: 0 0 15px rgba(243,156,18,0.3); } 50% { box-shadow: 0 0 25px rgba(243,156,18,0.5); } }

.card-serial { 
    position: absolute; top: 6px; right: 6px; background: rgba(0,0,0,0.7); 
    padding: 3px 6px; border-radius: 4px; font-size: 9px; font-weight: 600; color: var(--muted);
}
.card-image { 
    width: 100%; aspect-ratio: 1; background: var(--bg-secondary); border-radius: 8px; 
    margin-bottom: 8px; display: flex; align-items: center; justify-content: center;
}
.card-image .placeholder { font-size: 32px; opacity: 0.7; }
.card-footer { display: flex; flex-direction: column; gap: 3px; }
.card-name { font-size: 11px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.card-meta { display: flex; justify-content: space-between; align-items: center; }
.rarity-dot { width: 6px; height: 6px; border-radius: 50%; }
.rarity-dot.common { background: var(--common); }
.rarity-dot.rare { background: var(--rare); }
.rarity-dot.epic { background: var(--epic); }
.rarity-dot.legendary { background: var(--legendary); }
.card-collection { font-size: 9px; color: var(--muted); font-weight: 500; text-transform: uppercase; }

/* Tabs */
.tabs { display: flex; gap: 0; background: var(--card); padding: 4px; }
.tab { flex: 1; padding: 12px; background: transparent; border: none; color: var(--muted); font-size: 13px; font-weight: 500; cursor: pointer; border-radius: 8px; transition: all 0.2s; }
.tab.active { background: var(--bg); color: var(--text); }
.tab-content { display: none; animation: fadeIn 0.3s; }
.tab-content.active { display: block; }
@keyframes fadeIn { from { opacity: 0; } }

/* Empty */
.empty { text-align: center; padding: 50px 20px; color: var(--muted); grid-column: 1/-1; }
.empty-icon { font-size: 40px; margin-bottom: 12px; opacity: 0.5; }

/* Market */
.boxes-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
.box-item { 
    background: var(--card); border: 1px solid var(--border); border-radius: 14px; 
    padding: 18px 14px; text-align: center; cursor: pointer; transition: all 0.3s;
}
.box-item:hover { transform: translateY(-4px); border-color: var(--primary); }
.box-item.free { border-color: #10b981; background: linear-gradient(180deg, rgba(16,185,129,0.08) 0%, transparent 100%); }
.box-icon { font-size: 42px; margin-bottom: 10px; }
.box-name { font-weight: 600; font-size: 14px; margin-bottom: 4px; }
.box-desc { font-size: 11px; color: var(--muted); margin-bottom: 10px; }
.box-price { font-size: 15px; font-weight: 700; }
.box-price.free { color: #10b981; }
.box-price.coins { color: var(--primary); }

/* Profile */
.profile-card { background: var(--card); border-radius: 18px; padding: 28px; text-align: center; border: 1px solid var(--border); margin-bottom: 24px; }
.profile-avatar-large { 
    width: 80px; height: 80px; border-radius: 50%; margin: 0 auto 14px; 
    display: flex; align-items: center; justify-content: center; font-size: 36px;
    background: var(--bg); border: 3px solid var(--bronze);
}
.profile-avatar-large.silver { border-color: var(--silver); box-shadow: 0 0 20px rgba(192,192,192,0.4); }
.profile-avatar-large.gold { border-color: var(--gold); box-shadow: 0 0 25px rgba(255,215,0,0.4); }
.profile-avatar-large.platinum { border-color: var(--platinum); box-shadow: 0 0 25px rgba(229,228,226,0.5); }
.profile-avatar-large.diamond { border-color: var(--diamond); box-shadow: 0 0 30px rgba(185,242,255,0.5); }
.profile-avatar-large.master { border-color: var(--master); box-shadow: 0 0 30px rgba(155,89,182,0.5); }
.profile-avatar-large.legend { border-color: var(--legend); box-shadow: 0 0 35px rgba(243,156,18,0.6); animation: legendPulse 2s infinite; }

.profile-card h2 { font-size: 20px; margin-bottom: 8px; }
.profile-rank-badge { 
    display: inline-block; padding: 4px 12px; border-radius: 12px; 
    font-size: 11px; font-weight: 600; text-transform: uppercase; margin-bottom: 16px;
}
.profile-rank-badge.bronze { background: rgba(205,127,50,0.2); color: var(--bronze); }
.profile-rank-badge.silver { background: rgba(192,192,192,0.2); color: var(--silver); }
.profile-rank-badge.gold { background: rgba(255,215,0,0.2); color: var(--gold); }
.profile-rank-badge.platinum { background: rgba(229,228,226,0.2); color: var(--platinum); }
.profile-rank-badge.diamond { background: rgba(185,242,255,0.2); color: var(--diamond); }
.profile-rank-badge.master { background: rgba(155,89,182,0.2); color: var(--master); }
.profile-rank-badge.legend { background: rgba(243,156,18,0.2); color: var(--legend); }

.xp-bar { height: 6px; background: var(--border); border-radius: 3px; margin-bottom: 8px; overflow: hidden; }
.xp-fill { height: 100%; background: var(--primary); border-radius: 3px; transition: width 0.5s; }
.xp-label { font-size: 12px; color: var(--muted); margin-bottom: 20px; }

.profile-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.stat { text-align: center; }
.stat-value { font-size: 24px; font-weight: 700; color: var(--primary); }
.stat-label { font-size: 10px; color: var(--muted); margin-top: 2px; text-transform: uppercase; letter-spacing: 0.5px; }

/* Ranks Info */
.ranks-info { margin-top: 20px; }
.ranks-list { display: flex; flex-direction: column; gap: 8px; }
.rank-item { 
    display: flex; align-items: center; justify-content: space-between; 
    background: var(--card); padding: 12px 14px; border-radius: 10px;
}
.rank-item .rank-name { font-weight: 600; font-size: 13px; text-transform: capitalize; }
.rank-item .rank-xp { font-size: 12px; color: var(--muted); }
.rank-item.current { border: 1px solid var(--primary); }
